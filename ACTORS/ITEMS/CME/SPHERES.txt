ACTOR CMELifeSphere : CustomInventory
{
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	+DONTGIB
	+FloatBob
	Inventory.PickupMessage "Soulsphere"
	Inventory.PickupSound "SSPH"
	States
	{
	Spawn:
		TNT1 A 0 A_CheckSight("Spawn2")
		SOUL AAABBBCCCDDDCCCBBB 2 Bright A_SpawnItem("BlueFlareMedium2",0,30)
		Loop
	Spawn2:
		SOUL ABCDCB 2 BRIGHT
		Goto Spawn
	Pickup:
        TNT1 AAAAAAAAAAAAA 0 A_CustomMissile ("ShinnySmoke", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 0 A_GiveInventory("CMESoulSphereHealth", 1)
		Stop
	}
}

ACTOR CMESoulSphereHealth : Health	
{
	Inventory.Amount 100
	Inventory.MaxAmount 9999
	+INVENTORY.ALWAYSPICKUP
}

ACTOR CMELifeSphere2 : CustomInventory
{
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	+DONTGIB
	+FloatBob
	Inventory.PickupMessage "Greater Soulsphere"
	Inventory.PickupSound "SSPH"
	States
	{
	Spawn:
		TNT1 A 0 A_CheckSight("Spawn2")
		GZUL AAABBBCCCDDDCCCBBB 2 Bright A_SpawnItem("RedFlareMedium2",0,30)
		Loop
	Spawn2:
		GZUL ABCDCB 2 BRIGHT
		Goto Spawn
	Pickup:
        TNT1 AAAAAAAAAAAAA 0 A_CustomMissile ("ShinnySmoke", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 0 A_GiveInventory("CMEGreaterSoulSphereHealth", 1)
		Stop
	}
}

ACTOR CMEGreaterSoulSphereHealth : Health	
{
	Inventory.Amount 200
	Inventory.MaxAmount 9999
	+INVENTORY.ALWAYSPICKUP
}

ACTOR CMEEnergySphere : CustomInventory
{
	+COUNTITEM
	+DONTGIB
	+FloatBob
	+INVENTORY.ALWAYSPICKUP
	Inventory.PickupMessage "Megasphere"
	Inventory.PickupSound "MEGASPH"
	States
	{
	Spawn:
		TNT1 A 0 A_CheckSight("Spawn2")
		MEGA AABBCCDD 2 BRIGHT A_SpawnItem("LensFlare",0,35)
		Loop
	Spawn2:	
		MEGA AABBCCDD 2 BRIGHT
		Goto Spawn
	Pickup:
        TNT1 AAAAAAAAAAAAA 0 A_CustomMissile ("ShinnySmoke", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 0 A_GiveInventory("CMEHeavyArmorForMegaSphere", 1)
		TNT1 AA 0 A_GiveInventory("CMESoulsphereHealth", 1)
		Stop
	}
}	


Actor CMEHeavyArmorForMegaSphere : HeavyArmor2
{
	Armor.Savepercent 60
	Armor.Saveamount 275
}


ACTOR CMEUltraSphere : CustomInventory
{
	+COUNTITEM
	+DONTGIB
	+FloatBob
	+INVENTORY.ALWAYSPICKUP
	Inventory.PickupMessage "Ultrasphere"
	Inventory.PickupSound "MEGASPH"
	States
	{
	Spawn:
		TNT1 A 0 A_CheckSight("Spawn2")
		ULTR AABBCCDD 2 BRIGHT A_SpawnItem("LensFlareExtra",0,35)
		Loop
	Spawn2:	
		ULTR AABBCCDD 2 BRIGHT
		Goto Spawn
	Pickup:
        TNT1 AAAAAAAAAAAAA 0 A_CustomMissile ("ShinnySmoke", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 0 A_GiveInventory("CMEEliteArmorForUltraSphere", 1)
		TNT1 AA 0 A_GiveInventory("CMEGreaterSoulsphereHealth", 1)
		Stop
	}
}	

Actor CMEEliteArmorForUltraSphere : EliteArmor
{
	Armor.Savepercent 80
	Armor.Saveamount 450
}


Actor LifeSphereSpawner : RandomSpawner Replaces Soulsphere
{
dropitem "CMELifeSphere"
dropitem "CMELifeSphere2"
}

Actor EnergySphereSpawner : RandomSpawner Replaces Megasphere
{
dropitem "CMEEnergySphere"
dropitem "CMEUltraSphere"
}